(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0ce450a6","chunk-75f1af32"],{"09f4":function(e,t,i){"use strict";i.d(t,"a",(function(){return s})),Math.easeInOutQuad=function(e,t,i,l){return e/=l/2,e<1?i/2*e*e+t:(e--,-i/2*(e*(e-2)-1)+t)};var l=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();function a(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e}function n(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function s(e,t,i){var s=n(),o=e-s,r=20,c=0;t="undefined"===typeof t?500:t;var u=function e(){c+=r;var n=Math.easeInOutQuad(c,s,o,t);a(n),c<t?l(e):i&&"function"===typeof i&&i()};u()}},"11db":function(e,t,i){"use strict";var l=i("8d40"),a=i.n(l);a.a},"230c":function(e,t,i){"use strict";i.r(t);var l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("div",{staticClass:"filter-container"},[i("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[i("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"请输入文章标题",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleFilter(t)}},model:{value:e.listQuery.title,callback:function(t){e.$set(e.listQuery,"title",t)},expression:"listQuery.title"}}),e._v(" "),i("div",{staticStyle:{display:"inline-block"}},[i("tree-select",{staticClass:"filter-item",attrs:{data:e.categotyData,"default-props":e.defaultProps,"node-key":e.nodeKey,placeholder:"请选择文章分类",clearable:"","checked-keys":e.defaultCheckedKeys},on:{popoverHide:e.popoverHide}})],1),e._v(" "),i("el-select",{staticClass:"filter-item",attrs:{"value-key":"id",clearable:"",placeholder:"请选择标签"},model:{value:e.listQuery.label,callback:function(t){e.$set(e.listQuery,"label",t)},expression:"listQuery.label"}},e._l(e.labelData,(function(e){return i("el-option",{key:e.value,attrs:{label:e.title,value:e.id}})})),1),e._v(" "),i("el-select",{staticClass:"filter-item",attrs:{placeholder:"请选择状态"},model:{value:e.listQuery.status,callback:function(t){e.$set(e.listQuery,"status",t)},expression:"listQuery.status"}},e._l(e.statusOptions,(function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleFilter}},[e._v("搜索")]),e._v(" "),i("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-edit"},on:{click:function(t){return e.handleCreate({})}}},[e._v("新增")]),e._v(" "),i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{loading:e.delLoading,type:"success",icon:"el-icon-top"},on:{click:e.handleUpArticles}},[e._v("上架")]),e._v(" "),i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{loading:e.delLoading,type:"warning",icon:"el-icon-bottom"},on:{click:e.handleDownArticles}},[e._v("下架")]),e._v(" "),i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{loading:e.delLoading,type:"danger",icon:"el-icon-delete"},on:{click:e.handleDeletes}},[e._v("删除")])],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.list,"row-key":"id",border:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),i("el-table-column",{attrs:{label:"封面图","min-width":"150px"},scopedSlots:e._u([{key:"default",fn:function(e){return[i("img",{attrs:{src:e.row.cover,width:"140",height:"100"}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"文章标题","min-width":"250px"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.title))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"文章分类","min-width":"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.categories,(function(t,l){return i("el-tag",{key:l,staticStyle:{"margin-right":"5px"}},[e._v(e._s(t.name))])}))}}])}),e._v(" "),i("el-table-column",{attrs:{label:"文章标签","min-width":"150px"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.labels,(function(t,l){return i("el-tag",{key:l,staticStyle:{"margin-right":"5px"},attrs:{type:"success"}},[e._v(e._s(t.title))])}))}}])}),e._v(" "),i("el-table-column",{attrs:{label:"发布日期","min-width":"150px"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.publish_date))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"点赞数","min-width":"80px"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.likes))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"评论数","min-width":"80px"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.comments))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"是否置顶","min-width":"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"==t.row.is_top?i("el-tag",{attrs:{type:"success"}},[e._v("是")]):e._e(),e._v(" "),"0"==t.row.is_top?i("el-tag",{attrs:{type:"danger"}},[e._v("否")]):e._e()]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"状态","min-width":"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return["0"==t.row.status?i("el-tag",{attrs:{type:"success"}},[e._v("正常")]):e._e(),e._v(" "),"9"==t.row.status?i("el-tag",{attrs:{type:"danger"}},[e._v("下架")]):e._e()]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"作者","min-width":"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"==t.row.is_admin?i("span",[e._v(e._s(t.row.admin_name))]):e._e()]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"创建时间","min-width":"150px"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.created_at))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"操作",align:"center","min-width":"150px","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.row;return[i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.handleUpdate(l)}}},[e._v("编辑")]),e._v(" "),i("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(t){return e.handleTopArticle(l)}}},[e._v("置顶")]),e._v(" "),"9"==l.status?i("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(t){return e.handleUpArticle(l)}}},[e._v("上架")]):e._e(),e._v(" "),"0"==l.status?i("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(t){return e.handleDownArticle(l)}}},[e._v("下架")]):e._e(),e._v(" "),i("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){return e.handleDelete(l)}}},[e._v("删除")])]}}])})],1),e._v(" "),i("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.listQuery.page,limit:e.listQuery.limit},on:{"update:page":function(t){return e.$set(e.listQuery,"page",t)},"update:limit":function(t){return e.$set(e.listQuery,"limit",t)},pagination:e.getList}}),e._v(" "),i("el-dialog",{attrs:{title:"提示",visible:e.delVisible,"close-on-click-modal":!1,width:"300px",center:""},on:{"update:visible":function(t){e.delVisible=t}}},[i("span",[e._v("是否确定删除？")]),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.delVisible=!1}}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:e.deleteRow}},[e._v("确 定")])],1)]),e._v(" "),i("el-dialog",{attrs:{title:"提示",visible:e.topArticleVisible,"close-on-click-modal":!1,width:"300px",center:""},on:{"update:visible":function(t){e.topArticleVisible=t}}},[i("span",[e._v("是否确定置顶？")]),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.topArticleVisible=!1}}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:e.topArticle}},[e._v("确 定")])],1)]),e._v(" "),i("el-dialog",{attrs:{title:"提示",visible:e.downArticleVisible,"close-on-click-modal":!1,width:"300px",center:""},on:{"update:visible":function(t){e.downArticleVisible=t}}},[i("span",[e._v("是否确定下架？")]),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.downArticleVisible=!1}}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:e.downArticle}},[e._v("确 定")])],1)]),e._v(" "),i("el-dialog",{attrs:{title:"提示",visible:e.upArticleVisible,"close-on-click-modal":!1,width:"300px",center:""},on:{"update:visible":function(t){e.upArticleVisible=t}}},[i("span",[e._v("是否确定上架？")]),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.upArticleVisible=!1}}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:e.upArticle}},[e._v("确 定")])],1)]),e._v(" "),e.addOrUpdateVisible?i("add-or-update",{ref:"addOrUpdate",on:{refreshDataList:e.getList}}):e._e()],1)},a=[],n=i("b9e8"),s=i("2423"),o=i("c405"),r=i("34cd"),c=i("567c"),u=i("6724"),d=i("333d"),p={name:"Article",components:{AddOrUpdate:n["default"],TreeSelect:c["a"],Pagination:d["a"]},directives:{waves:u["a"]},data:function(){return{tableKey:0,list:null,total:0,listLoading:!0,listQuery:{title:"",cid:"",label:"",status:""},statusOptions:[{value:"",label:"全部"},{value:"0",label:"正常"},{value:"9",label:"下架"}],categotyData:null,labelData:null,nodeKey:"id",defaultCheckedKeys:[],defaultProps:{children:"children",label:"name"},delVisible:!1,topArticleVisible:!1,upArticleVisible:!1,downArticleVisible:!1,id:"",ids:[],delLoading:!1,addOrUpdateVisible:!1}},created:function(){this.getList(),this.getEnableCategory(),this.getEnableLabel()},methods:{handleFilter:function(){this.getList()},getEnableCategory:function(){var e=this;Object(o["c"])().then((function(t){e.categotyData=t.data}))},getEnableLabel:function(){var e=this;Object(r["c"])().then((function(t){e.labelData=t.data}))},popoverHide:function(e,t){""!==e&&(this.listQuery.cid=e)},getList:function(){var e=this;this.listLoading=!0,Object(s["d"])(this.listQuery).then((function(t){e.list=t.data,e.total=t.total,e.listLoading=!1}))},handleCreate:function(e){var t=this;this.addOrUpdateVisible=!0,this.$nextTick((function(){t.$refs.addOrUpdate.init(e,t.categotyData,t.labelData)}))},handleUpdate:function(e){var t=this;this.addOrUpdateVisible=!0,this.$nextTick((function(){t.$refs.addOrUpdate.init(e,t.categotyData,t.labelData)}))},handleDelete:function(e){this.delVisible=!0,this.ids=[],this.ids.push(e.id)},handleDeletes:function(){var e=this.$refs.multipleTable.selection,t=e.length;if(t<1)return this.$message({message:"请选择要删除的数据",type:"warning"}),!1;this.delVisible=!0,this.ids=[];for(var i=0;i<t;i++)this.ids.push(e[i].id)},deleteRow:function(){var e=this;this.delLoading=!0,Object(s["b"])(this.ids).then((function(t){e.$notify({title:t.type,message:t.message,type:t.type,duration:1500}),e.getList()})),this.delLoading=!1,this.delVisible=!1},handleTopArticle:function(e){this.topArticleVisible=!0,this.id=e.id},handleUpArticle:function(e){this.upArticleVisible=!0,this.ids=[],this.ids.push(e.id)},handleDownArticle:function(e){this.downArticleVisible=!0,this.ids=[],this.ids.push(e.id)},handleUpArticles:function(){var e=this.$refs.multipleTable.selection,t=e.length;if(t<1)return this.$message({message:"请选择要上架的数据",type:"warning"}),!1;this.upArticleVisible=!0,this.ids=[];for(var i=0;i<t;i++)this.ids.push(e[i].id)},handleDownArticles:function(){var e=this.$refs.multipleTable.selection,t=e.length;if(t<1)return this.$message({message:"请选择要下架的数据",type:"warning"}),!1;this.downArticleVisible=!0,this.ids=[];for(var i=0;i<t;i++)this.ids.push(e[i].id)},topArticle:function(){var e=this;this.delLoading=!0,Object(s["e"])(this.id).then((function(t){e.$notify({title:t.type,message:t.message,type:t.type,duration:1500}),e.getList()})),this.delLoading=!1,this.topArticleVisible=!1},upArticle:function(){var e=this;this.delLoading=!0,Object(s["f"])(this.ids).then((function(t){e.$notify({title:t.type,message:t.message,type:t.type,duration:1500}),e.getList()})),this.delLoading=!1,this.upArticleVisible=!1},downArticle:function(){var e=this;this.delLoading=!0,Object(s["c"])(this.ids).then((function(t){e.$notify({title:t.type,message:t.message,type:t.type,duration:1500}),e.getList()})),this.delLoading=!1,this.downArticleVisible=!1}}},m=p,f=i("2877"),b=Object(f["a"])(m,l,a,!1,null,null,null);t["default"]=b.exports},2423:function(e,t,i){"use strict";i.d(t,"d",(function(){return s})),i.d(t,"a",(function(){return o})),i.d(t,"g",(function(){return r})),i.d(t,"b",(function(){return c})),i.d(t,"e",(function(){return u})),i.d(t,"f",(function(){return d})),i.d(t,"c",(function(){return p}));var l=i("b775"),a=i("4328"),n=i.n(a);function s(e){return Object(l["a"])({url:"/api/article",method:"get",params:e})}function o(e){return Object(l["a"])({url:"/api/article",method:"post",headers:{"content-type":"application/x-www-form-urlencoded"},data:n.a.stringify(e)})}function r(e){return Object(l["a"])({url:"/api/article",method:"put",headers:{"content-type":"application/x-www-form-urlencoded"},data:n.a.stringify(e)})}function c(e){return Object(l["a"])({url:"/api/article",method:"delete",params:{ids:e}})}function u(e){return Object(l["a"])({url:"/api/article/top",method:"put",params:{id:e}})}function d(e){return Object(l["a"])({url:"/api/article/up",method:"put",params:{ids:e}})}function p(e){return Object(l["a"])({url:"/api/article/down",method:"put",params:{ids:e}})}},"34cd":function(e,t,i){"use strict";i.d(t,"d",(function(){return s})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return r})),i.d(t,"e",(function(){return c})),i.d(t,"b",(function(){return u}));var l=i("b775"),a=i("4328"),n=i.n(a);function s(e){return Object(l["a"])({url:"/api/label",method:"get",params:e})}function o(){return Object(l["a"])({url:"/api/label/enable",method:"get"})}function r(e){return Object(l["a"])({url:"/api/label",method:"post",headers:{"content-type":"application/x-www-form-urlencoded"},data:n.a.stringify(e)})}function c(e){return Object(l["a"])({url:"/api/label",method:"put",headers:{"content-type":"application/x-www-form-urlencoded"},data:n.a.stringify(e)})}function u(e){return Object(l["a"])({url:"/api/label",method:"delete",params:{ids:e}})}},6724:function(e,t,i){"use strict";i("8d41");var l="@@wavesContext";function a(e,t){function i(i){var l=Object.assign({},t.value),a=Object.assign({ele:e,type:"hit",color:"rgba(0, 0, 0, 0.15)"},l),n=a.ele;if(n){n.style.position="relative",n.style.overflow="hidden";var s=n.getBoundingClientRect(),o=n.querySelector(".waves-ripple");switch(o?o.className="waves-ripple":(o=document.createElement("span"),o.className="waves-ripple",o.style.height=o.style.width=Math.max(s.width,s.height)+"px",n.appendChild(o)),a.type){case"center":o.style.top=s.height/2-o.offsetHeight/2+"px",o.style.left=s.width/2-o.offsetWidth/2+"px";break;default:o.style.top=(i.pageY-s.top-o.offsetHeight/2-document.documentElement.scrollTop||document.body.scrollTop)+"px",o.style.left=(i.pageX-s.left-o.offsetWidth/2-document.documentElement.scrollLeft||document.body.scrollLeft)+"px"}return o.style.backgroundColor=a.color,o.className="waves-ripple z-active",!1}}return e[l]?e[l].removeHandle=i:e[l]={removeHandle:i},i}var n={bind:function(e,t){e.addEventListener("click",a(e,t),!1)},update:function(e,t){e.removeEventListener("click",e[l].removeHandle,!1),e.addEventListener("click",a(e,t),!1)},unbind:function(e){e.removeEventListener("click",e[l].removeHandle,!1),e[l]=null,delete e[l]}},s=function(e){e.directive("waves",n)};window.Vue&&(window.waves=n,Vue.use(s)),n.install=s;t["a"]=n},"8d40":function(e,t,i){},"8d41":function(e,t,i){},b9e8:function(e,t,i){"use strict";i.r(t);var l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{staticStyle:{width:"100%",left:"50px"},attrs:{title:e.temp.id?"编辑":"新增","close-on-click-modal":!1,center:"",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[i("el-form",{ref:"dataForm",staticStyle:{width:"100%"},attrs:{rules:e.rules,model:e.temp,"label-position":"left","label-width":"120px"}},[i("el-form-item",{attrs:{label:"文章标题",prop:"title"}},[i("el-input",{model:{value:e.temp.title,callback:function(t){e.$set(e.temp,"title",t)},expression:"temp.title"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"文章简介",prop:"summary"}},[i("el-input",{model:{value:e.temp.summary,callback:function(t){e.$set(e.temp,"summary",t)},expression:"temp.summary"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"文章分类",prop:"cid"}},[i("tree-select",{staticClass:"el-input",attrs:{data:e.categoryOptions,"default-props":e.defaultProps,"node-key":e.nodeKey,"checked-keys":e.defaultCheckedKeys,width:755},on:{popoverHide:e.popoverHide}})],1),e._v(" "),i("el-form-item",{attrs:{label:"标签",prop:"label_ids"}},[i("el-select",{staticClass:"el-input",attrs:{multiple:"","value-key":"id",placeholder:"请选择标签"},model:{value:e.temp.label_ids,callback:function(t){e.$set(e.temp,"label_ids",t)},expression:"temp.label_ids"}},e._l(e.labelOptions,(function(e){return i("el-option",{key:e.value,attrs:{label:e.title,value:e.id}})})),1)],1),e._v(" "),i("el-form-item",{attrs:{label:"SEO标题",prop:"seo_title"}},[i("el-input",{model:{value:e.temp.seo_title,callback:function(t){e.$set(e.temp,"seo_title",t)},expression:"temp.seo_title"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"SEO关键词",prop:"seo_keywords"}},[i("el-input",{model:{value:e.temp.seo_keywords,callback:function(t){e.$set(e.temp,"seo_keywords",t)},expression:"temp.seo_keywords"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"SEO描述",prop:"seo_description"}},[i("el-input",{model:{value:e.temp.seo_description,callback:function(t){e.$set(e.temp,"seo_description",t)},expression:"temp.seo_description"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"封面图片"}},[i("el-radio-group",{model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[i("el-radio",{attrs:{label:0}},[e._v("网络图片")]),e._v(" "),i("el-radio",{attrs:{label:1}},[e._v("上传封面图片")])],1)],1),e._v(" "),0==e.radio?i("el-form-item",{attrs:{label:"封面图片",prop:"cover"}},[i("el-input",{attrs:{type:"url"},model:{value:e.temp.cover,callback:function(t){e.$set(e.temp,"cover",t)},expression:"temp.cover"}})],1):e._e(),e._v(" "),1==e.radio?i("el-form-item",{attrs:{label:"封面图片",prop:"cover"}},[i("el-upload",{staticClass:"cover-uploader",attrs:{action:e.uploadAction,name:"cover","show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.temp.cover?i("img",{staticClass:"cover",attrs:{src:e.temp.cover}}):i("i",{staticClass:"el-icon-plus cover-uploader-icon"})])],1):e._e(),e._v(" "),i("el-form-item",{staticStyle:{"margin-bottom":"30px"},attrs:{label:"内容",prop:"content"}},[i("Tinymce",{ref:"editor",attrs:{height:400},model:{value:e.temp.content,callback:function(t){e.$set(e.temp,"content",t)},expression:"temp.content"}})],1),e._v(" "),"create"==e.dialogStatus?i("el-form-item",{attrs:{label:"发布日期",prop:"publish_date"}},[i("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择发布时间"},model:{value:e.temp.publish_date,callback:function(t){e.$set(e.temp,"publish_date",t)},expression:"temp.publish_date"}})],1):e._e(),e._v(" "),"update"==e.dialogStatus?i("el-form-item",{attrs:{label:"点赞数",prop:"likes"}},[i("el-input",{attrs:{type:"number"},model:{value:e.temp.likes,callback:function(t){e.$set(e.temp,"likes",t)},expression:"temp.likes"}})],1):e._e(),e._v(" "),"update"==e.dialogStatus?i("el-form-item",{attrs:{label:"评论数",prop:"comments"}},[i("el-input",{attrs:{type:"number"},model:{value:e.temp.comments,callback:function(t){e.$set(e.temp,"comments",t)},expression:"temp.comments"}})],1):e._e(),e._v(" "),"update"==e.dialogStatus?i("el-form-item",{attrs:{label:"状态",prop:"status"}},[i("el-select",{staticClass:"el-input",attrs:{placeholder:"请选择"},model:{value:e.temp.status,callback:function(t){e.$set(e.temp,"status",t)},expression:"temp.status"}},e._l(e.statusOptions,(function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1):e._e()],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){return e.handleCancel()}}},[e._v("取消")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(t){"create"===e.dialogStatus?e.createData():e.updateData()}}},[e._v("确认")])],1)],1)},a=[],n=(i("ac6a"),i("456d"),i("2423")),s=i("8256"),o=i("567c"),r={components:{Tinymce:s["a"],TreeSelect:o["a"]},data:function(){return{radio:1,dialogStatus:"",dataForm:{},dialogFormVisible:!1,statusOptions:[{value:"0",label:"正常"},{value:"9",label:"下架"}],categoryOptions:[],labelOptions:[],nodeKey:"id",defaultCheckedKeys:[],defaultProps:{children:"children",label:"name"},imageUrl:"",temp:{id:"",title:"",summary:"",cid:"",label_ids:[],content:"",is_admin:"1",publish_date:"",cover:"",status:"0",seo_title:"",seo_keywords:"",seo_description:"",likes:0,comments:0},rules:{title:[{required:!0,message:"请输入文章标题",trigger:"blur"}],summary:[{required:!0,message:"请输入文章简介",trigger:"blur"}],cid:[{required:!0,message:"请选择文章分类",trigger:"blur"}],label_ids:[{required:!0,message:"请选择文章标签",trigger:"blur"}],content:[{required:!0,message:"请输入文章内容",trigger:"blur"}],cover:[{required:!0,message:"请上传文章封面图片",trigger:"blur"}]},uploadAction:"https://www.lqy-comic.com//api/article/upload"}},created:function(){},methods:{resetTemp:function(){this.temp={id:"",title:"",summary:"",cid:"",label_ids:[],content:"",is_admin:"1",publish_date:"",cover:"",status:"0",seo_title:"",seo_keywords:"",seo_description:"",likes:0,comments:0},this.defaultCheckedKeys=[],this.$refs["editor"]&&window.tinymce.get(this.$refs["editor"].id).setContent("")},init:function(e,t,i){if(this.dialogFormVisible=!0,this.resetTemp(),this.categoryOptions=t,this.labelOptions=i,0!==Object.keys(e).length){this.dialogStatus="update",this.temp=Object.assign({},e),this.$refs["editor"]&&window.tinymce.get(this.$refs["editor"].id).setContent(e.content),this.defaultCheckedKeys=[this.temp.cid];var l=[];for(var a in e.labels)l.push(e.labels[a]["lid"]);this.temp.label_ids=l}else this.dialogStatus="create"},popoverHide:function(e,t){""!==e&&(this.temp.cid=e)},handleAvatarSuccess:function(e,t){this.temp.cover=e.file,this.imageUrl=URL.createObjectURL(t.raw)},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type,i=e.size/1024/1024<2;return t||this.$message.error("上传头像图片只能是 JPG 格式!"),i||this.$message.error("上传头像图片大小不能超过 2MB!"),t&&i},createData:function(){var e=this;this.$refs["dataForm"].validate((function(t){t&&Object(n["a"])(e.temp).then((function(t){e.dialogFormVisible=!1,e.$notify({title:t.type,message:t.message,type:t.type,duration:1500,onClose:function(){e.visible=!1,e.$emit("refreshDataList")}})}))}))},updateData:function(){var e=this;this.$refs["dataForm"].validate((function(t){t&&Object(n["g"])(e.temp).then((function(t){e.dialogFormVisible=!1,e.$notify({title:t.type,message:t.message,type:t.type,duration:1500,onClose:function(){e.visible=!1,e.$emit("refreshDataList")}})}))}))},handleCancel:function(){this.dialogFormVisible=!1}}},c=r,u=(i("11db"),i("2877")),d=Object(u["a"])(c,l,a,!1,null,null,null);t["default"]=d.exports},c405:function(e,t,i){"use strict";i.d(t,"d",(function(){return s})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return r})),i.d(t,"e",(function(){return c})),i.d(t,"b",(function(){return u}));var l=i("b775"),a=i("4328"),n=i.n(a);function s(e){return Object(l["a"])({url:"/api/category",method:"get",params:e})}function o(){return Object(l["a"])({url:"/api/category/enable",method:"get"})}function r(e){return Object(l["a"])({url:"/api/category",method:"post",headers:{"content-type":"application/x-www-form-urlencoded"},data:n.a.stringify(e)})}function c(e){return Object(l["a"])({url:"/api/category",method:"put",headers:{"content-type":"application/x-www-form-urlencoded"},data:n.a.stringify(e)})}function u(e){return Object(l["a"])({url:"/api/category",method:"delete",params:{ids:e}})}}}]);