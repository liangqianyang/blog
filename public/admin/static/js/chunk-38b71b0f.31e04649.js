(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-38b71b0f"],{"0345":function(t,e,a){"use strict";var i=a("b919"),r=a.n(i);r.a},"709b":function(t,e,a){"use strict";a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return l})),a.d(e,"d",(function(){return s})),a.d(e,"b",(function(){return u}));var i=a("b775"),r=a("4328"),n=a.n(r);function o(t){return Object(i["a"])({url:"/api/banner",method:"get",params:t})}function l(t){return Object(i["a"])({url:"/api/banner",method:"post",headers:{"content-type":"application/x-www-form-urlencoded"},data:n.a.stringify(t)})}function s(t){return Object(i["a"])({url:"/api/banner",method:"put",headers:{"content-type":"application/x-www-form-urlencoded"},data:n.a.stringify(t)})}function u(t){return Object(i["a"])({url:"/api/banner",method:"delete",params:{ids:t}})}},b919:function(t,e,a){},cf74:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:t.temp.id?"编辑":"新增","close-on-click-modal":!1,visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{ref:"dataForm",staticStyle:{width:"400px","margin-left":"50px"},attrs:{rules:t.rules,model:t.temp,"label-position":"left","label-width":"120px"}},[a("el-form-item",{attrs:{label:"标题",prop:"title"}},[a("el-input",{model:{value:t.temp.title,callback:function(e){t.$set(t.temp,"title",e)},expression:"temp.title"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"外链",prop:"url"}},[a("el-input",{model:{value:t.temp.url,callback:function(e){t.$set(t.temp,"url",e)},expression:"temp.url"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"轮播图",prop:"image_url"}},[a("el-upload",{staticClass:"banner-uploader",attrs:{action:t.uploadAction,"show-file-list":!1,"on-success":t.handleAvatarSuccess,"before-upload":t.beforeAvatarUpload}},[t.temp.image_url?a("img",{staticClass:"banner",attrs:{src:t.temp.image_url}}):a("i",{staticClass:"el-icon-plus banner-uploader-icon"})])],1),t._v(" "),a("el-form-item",{attrs:{label:"排序",prop:"sort"}},[a("el-input",{attrs:{type:"number"},model:{value:t.temp.sort,callback:function(e){t.$set(t.temp,"sort",e)},expression:"temp.sort"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){"create"===t.dialogStatus?t.createData():t.updateData()}}},[t._v("确认")])],1)],1)},r=[],n=(a("ac6a"),a("456d"),a("709b")),o={components:{},data:function(){return{dialogStatus:"",dataForm:{},dialogFormVisible:!1,uploadAction:"https://www.lqy-comic.com/api/banner/upload",imageUrl:"",temp:{id:"",title:"",url:"",image_url:"",sort:1},rules:{title:[{required:!0,message:"请输入标题名称",trigger:"blur"}]}}},created:function(){},methods:{resetTemp:function(){this.temp={id:"",title:"",url:"",image_url:"",sort:1}},init:function(t){this.dialogFormVisible=!0,0!==Object.keys(t).length?(this.dialogStatus="update",this.temp=Object.assign({},t)):this.dialogStatus="create"},handleAvatarSuccess:function(t,e){this.temp.image_url=t.file,this.imageUrl=URL.createObjectURL(e.raw)},beforeAvatarUpload:function(t){var e="image/jpeg"===t.type,a="image/png"===t.type,i=t.size/1024/1024<2;return e||a||this.$message.error("上传头像图片只能是JPG格式或者PNG格式!"),i||this.$message.error("上传头像图片大小不能超过 2MB!"),t.type&&i},createData:function(){var t=this;this.$refs["dataForm"].validate((function(e){e&&Object(n["a"])(t.temp).then((function(e){t.dialogFormVisible=!1,t.$notify({title:e.type,message:e.message,type:e.type,duration:1500,onClose:function(){t.visible=!1,t.$emit("refreshDataList")}})}))}))},updateData:function(){var t=this;this.$refs["dataForm"].validate((function(e){e&&Object(n["d"])(t.temp).then((function(e){t.dialogFormVisible=!1,t.$notify({title:e.type,message:e.message,type:e.type,duration:1500,onClose:function(){t.visible=!1,t.$emit("refreshDataList")}})}))}))}}},l=o,s=(a("0345"),a("2877")),u=Object(s["a"])(l,i,r,!1,null,null,null);e["default"]=u.exports}}]);