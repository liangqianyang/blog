(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bde6a162"],{"126e":function(t,e,i){"use strict";var a=i("f459"),l=i.n(a);l.a},"49de":function(t,e,i){"use strict";i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return n})),i.d(e,"d",(function(){return s})),i.d(e,"b",(function(){return c}));var a=i("b775"),l=i("4328"),o=i.n(l);function r(t){return Object(a["a"])({url:"/api/material",method:"get",params:t})}function n(t){return Object(a["a"])({url:"/api/material",method:"post",headers:{"content-type":"application/x-www-form-urlencoded"},data:o.a.stringify(t)})}function s(t){return Object(a["a"])({url:"/api/material",method:"put",headers:{"content-type":"application/x-www-form-urlencoded"},data:o.a.stringify(t)})}function c(t){return Object(a["a"])({url:"/api/material",method:"delete",params:{ids:t}})}},"63bb":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-dialog",{attrs:{title:t.temp.id?"编辑":"新增","close-on-click-modal":!1,visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[i("el-form",{ref:"dataForm",staticStyle:{width:"400px","margin-left":"50px"},attrs:{rules:t.rules,model:t.temp,"label-position":"left","label-width":"120px"}},[i("el-form-item",{attrs:{label:"标题",prop:"title"}},[i("el-input",{model:{value:t.temp.title,callback:function(e){t.$set(t.temp,"title",e)},expression:"temp.title"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"素材图",prop:"url"}},[i("el-upload",{staticClass:"material-uploader",attrs:{action:t.uploadAction,"show-file-list":!1,"on-success":t.handleAvatarSuccess}},[t.temp.url?i("img",{staticClass:"material",attrs:{src:t.temp.url}}):i("i",{staticClass:"el-icon-plus material-uploader-icon"})])],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(e){"create"===t.dialogStatus?t.createData():t.updateData()}}},[t._v("确认")])],1)],1)},l=[],o=(i("ac6a"),i("456d"),i("49de")),r={components:{},data:function(){return{dialogStatus:"",dataForm:{},dialogFormVisible:!1,uploadAction:"http://www.lqy-comic.com/api/material/upload",imageUrl:"",temp:{id:"",title:"",url:"",width:"",height:"",type:""},rules:{title:[{required:!0,message:"请输入标题名称",trigger:"blur"}]}}},created:function(){},methods:{resetTemp:function(){this.temp={id:"",title:"",url:"",width:"",height:"",type:""}},init:function(t){this.dialogFormVisible=!0,0!==Object.keys(t).length?(this.dialogStatus="update",this.temp=Object.assign({},t)):this.dialogStatus="create"},handleAvatarSuccess:function(t,e){this.temp.url=t.file,this.temp.width=t.width,this.temp.height=t.height,this.temp.type=t.type,this.imageUrl=URL.createObjectURL(e.raw)},createData:function(){var t=this;this.$refs["dataForm"].validate((function(e){e&&Object(o["a"])(t.temp).then((function(e){t.dialogFormVisible=!1,t.$notify({title:e.type,message:e.message,type:e.type,duration:1500,onClose:function(){t.visible=!1,t.$emit("refreshDataList")}})}))}))},updateData:function(){var t=this;this.$refs["dataForm"].validate((function(e){e&&Object(o["d"])(t.temp).then((function(e){t.dialogFormVisible=!1,t.$notify({title:e.type,message:e.message,type:e.type,duration:1500,onClose:function(){t.visible=!1,t.$emit("refreshDataList")}})}))}))}}},n=r,s=(i("126e"),i("2877")),c=Object(s["a"])(n,a,l,!1,null,null,null);e["default"]=c.exports},f459:function(t,e,i){}}]);